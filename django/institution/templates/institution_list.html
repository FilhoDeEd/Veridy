<!-- prettier-ignore -->
{% extends "entity_list_base.html" %}
{% block title_append %} Instituições {% endblock %}
{% block breadcrumb_current %}Instituições{% endblock %}
{% block title %}Instituições cadastradas{% endblock %}
{% block entity_type %}institutions{% endblock %}
{% block filters %}
<div class="col-md-6">
	<label for="id_name" class="form-label">Nome</label>
	<input type="text" id="id_name" name="name" class="form-control" value="{{ request.GET.name }}" />
</div>
<div class="col-md-6">
	<label for="id_domain" class="form-label">Domínio</label>
	<input type="text" id="id_domain" name="domain" class="form-control" value="{{ request.GET.domain }}" />
</div>
<!-- prettier-ignore -->
{% endblock %}
{% block results %}
  {% if institutions %}
<ul class="list-group">
	{% for inst in institutions %}
	<li class="list-group-item">
		<h5 class="mb-1">{{ inst.name }}</h5>
		<p class="mb-1"><strong>Domínio:</strong> {{ inst.domain }}</p>
		<small>{{ inst.city }}, {{ inst.state }} — {{ inst.country }}</small>
	</li>
	{% endfor %}
</ul>

{% if is_paginated %}
<nav class="mt-4">
	<ul class="pagination">
		{% if page_obj.has_previous %}
		<li class="page-item">
			<a class="page-link" href="?page={{ page_obj.previous_page_number }}">Anterior</a>
		</li>
		{% endif %}

		<li class="page-item disabled">
			<span class="page-link">Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}</span>
		</li>

		{% if page_obj.has_next %}
		<li class="page-item">
			<a class="page-link" href="?page={{ page_obj.next_page_number }}">Próxima</a>
		</li>
		{% endif %}
	</ul>
</nav>
<!-- prettier-ignore -->
{% endif %}
{% else %}
<div class="alert alert-warning">Nenhuma instituição encontrada.</div>
<!-- prettier-ignore -->
{% endif %}
{% endblock %}
