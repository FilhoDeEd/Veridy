<!-- prettier-ignore -->
{% extends 'base.html' %}
{% load tz %}

{% block title_append %}
Verificar Domínio
{% endblock %}

{% block breadcrumb %}
<li class="breadcrumb-item">
	<a href="{% url 'home' %}" class="breadcrumb-link">
		<i class="fas fa-home"></i>
	</a>
</li>
<li class="breadcrumb-item">
	<a href="{% url 'institution_profile' %}" class="breadcrumb-link">Perfil Institucional</a>
</li>
<li class="breadcrumb-item">
	<a href="{% url 'verification_display_token' %}" class="breadcrumb-link" aria-current="page">Verificação de Domínio</a>
</li>
{% endblock %}

<!-- prettier-ignore -->
{% block subtitle %}
Finalizar Verificação de Domínio
{% endblock %}

{% block content %}
<div class="alert alert-primary shadow-sm mb-4">
	<h5 class="mb-2">Como concluir a verificação?</h5>
	<p class="mb-1">Adicione o token abaixo como um registro <code>TXT</code> no painel DNS do domínio informado.</p>
	<p class="mb-0">Depois, clique no botão <strong>“Verificar agora”</strong> para confirmarmos a propriedade.</p>
</div>

<div class="card shadow-sm">
	<div class="bg-primary py-2 rounded-top"></div>
	<div class="card-body">
		<div class="row mb-4">
			<div class="col-md-6 mb-3">
				<label class="form-label fw-semibold">Domínio informado</label>
				<div class="form-control border"><code>{{ token.temporary_domain }}</code></div>
			</div>
			<div class="col-md-6 mb-3">
				<label class="form-label fw-semibold">Expira em</label>
				<div class="form-control border">
					<code>{{ token.expiration_date|localtime|date:"d \d\e F \d\e Y, H:i" }}</code>
				</div>
			</div>
			<div class="col-md-12">
				<label class="form-label fw-semibold">Token de Verificação (valor do registro TXT)</label>
				<div class="form-control border"><code>veridy-domain-verification={{ token.token }}</code></div>
			</div>
		</div>

		<p class="text-muted small mb-4">
			Algumas plataformas pedem o domínio completo no campo “Nome” do registro (ex:
			<code>{{ token.temporary_domain }}</code>), outras apenas “@”. Consulte a documentação do seu provedor de DNS.
		</p>

		<div class="d-flex justify-content-end gap-2">
			<a href="{% url 'verification_request_token' %}" class="btn btn-outline-warning shadow-sm">
				<span class="fw-semibold"><i class="fas fa-redo-alt"></i> Gerar Novo Token</span>
			</a>
			<a href="{% url 'verification_download_token' %}" class="btn btn-outline-primary shadow-sm">
				<span class="fw-semibold"><i class="fas fa-download"></i> Baixar TXT</span>
			</a>
			<a href="{% url 'verification_check_token' %}" class="btn btn-outline-success shadow-sm">
				<span class="fw-semibold"><i class="fas fa-check-circle"></i> Verificar Agora</span>
			</a>
		</div>
	</div>
</div>
{% endblock %}
